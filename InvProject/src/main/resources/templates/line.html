<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="/css/all.min.css" />
  <link rel="stylesheet" href="/css/bootstrap.min.css" />
  <link rel="stylesheet" href="/css/mycolor.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <style>
    .container {
      height: 600px;
    }

    .highcharts-figure,
    .highcharts-data-table table {
      min-width: 320px;
      max-width: 800px;
      margin: 1em auto;
    }

    .highcharts-data-table table {
      font-family: Verdana, sans-serif;
      border-collapse: collapse;
      border: 1px solid #ebebeb;
      margin: 10px auto;
      text-align: center;
      width: 100%;
      max-width: 500px;
    }

    .highcharts-data-table caption {
      padding: 1em 0;
      font-size: 1.2em;
      color: #555;
    }

    .highcharts-data-table th {
      font-weight: 600;
      padding: 0.5em;
    }

    .highcharts-data-table td,
    .highcharts-data-table th,
    .highcharts-data-table caption {
      padding: 0.5em;
    }

    .highcharts-data-table thead tr,
    .highcharts-data-table tr:nth-child(even) {
      background: #f8f8f8;
    }

    .highcharts-data-table tr:hover {
      background: #f1f7ff;
    }

    .ld-label {
      width: 200px;
      display: inline-block;
    }

    .ld-url-input {
      width: 500px;
    }

    .ld-time-input {
      width: 40px;
    }
  </style>
</head>

<body>


  <div class="row mt-100">
    <figure class="highcharts-figure">
      <div class="container" id="linechart"></div>
      <p>
        <加權指數>
      </p>
    </figure>

    <figure class="highcharts-figure">
      <div class="container" id="piechart"></div>
      <p>
        <單位:千元>
      </p>
    </figure>
  </div>



<!-- 
  <script src="/js/accessibilty.js"></script> -->
  <!-- <script src="/js/export_data.js"></script>
  <script src="/js/exporting.js"></script> -->

  <script src="/js/piechart.js"></script>
  <script src="/js/pieChartMore.js"></script>
  <script src="/js/highChart.js"></script>
  <script src="/js/series_label.js"></script>
  <script src="/js/jquery-3.7.1.min.js"></script>

  <script>
    $.ajax({url:"http://localhost:8080/api/v1/dataShow/",
           success:function(result){
            console.log(result),
            console.log("line.html is ok")
           },        
          //  success: resultShow(),      

      });
      // function resultShow(){
      //   console.log(result);
      // }
  </script>

  <script>
    Highcharts.chart('piechart', {
      colors: ['#C0C0C0', '#FFD700', '#CD7F32'],
      chart: {
        type: 'column',
        inverted: true,
        polar: true
      },
      title: {
        text: '上市公司本期營業利益',
        align: 'left'
      },
      subtitle: {
        text: '水泥工業',
        align: 'left'
      },
      tooltip: {
        outside: true
      },
      pane: {
        size: '85%',
        innerSize: '20%',
        endAngle: 270
      },
      xAxis: {
        tickInterval: 1,
        labels: {
          align: 'right',
          useHTML: true,
          allowOverlap: true,
          step: 1,
          y: 3,
          style: {
            fontSize: '13px'
          }
        },
        lineWidth: 0,
        gridLineWidth: 0,
        categories: [
          '臺灣水泥 <span class="f16"><span id="flag" class="flag no">' +
          '</span></span>',
          '亞洲水泥 <span class="f16"><span id="flag" class="flag us">' +
          '</span></span>',
          '嘉新水泥 <span class="f16"><span id="flag" class="flag de">' +
          '</span></span>',
          '環球水泥 <span class="f16"><span id="flag" class="flag at">' +
          '</span></span>',
          '幸福水泥 <span class="f16"><span id="flag" class="flag ca">' +
          '</span></span>',
          '信大水泥 <span class="f16"><span id="flag" class="flag sd">' +
          '</span></span>',
          '東南水泥 <span class="f16"><span id="flag" class="flag dn">' +
          '</span></span>'
        ]
      },
      yAxis: {
        lineWidth: 0,
        tickInterval: 25,
        reversedStacks: false,
        endOnTick: true,
        showLastLabel: true,
        gridLineWidth: 0
      },
      plotOptions: {
        column: {
          stacking: 'normal',
          borderWidth: 0,
          pointPadding: 0,
          groupPadding: 0.15,
          borderRadius: '50%'
        }
      },
      series: [
        // {
        //   name: '營業收入',
        //   data: [64513447.00, 35484522,1437444, 4000652, 2410081,2473105,1181516]
        // }, 
        // {
        //   name: '營業支出',
        //   data: [58988228
        //     , 32646142, 1463964
        //     , 3454105
        //     , 2076232
        //     , 2107602
        //     , 1044439
        //   ]
        // }, 
        // {
        //   name: '營業淨利',
        //   data: [5525219.00, 2838380.00, -26520.00, 546547.00, 333849.00, 365503.00, 137077.00]
        // },
        {
          name: '營業外收入及支出',
          data: [3289140
          , 5806379
          , 88593
          , 275448
          , -15075
          , 46635
          ,-247
          ]
        },
        {
          name: '所得稅費用',
          data: [3065551
          , 1919701
          ,170836
          , 29881
          , 64038
          , 95210
          , 22660
          ]
        },
        {
          name: '本期稅後淨利',
          data: [5748808
          , 6725058
          , 32192
          , 651159
          , 254736
          , 316928
          , 114170
          ]
        },
      
      ]        
    });
  </script>


  <script>
    Highcharts.chart('linechart', {
      chart: {
        type: 'spline'
      },
      title: {
        text: '大盤指數',
        align: 'left'
      },
      subtitle: {
        text: '2022-2024',
        align: 'left'
      },
      xAxis: {
        type: 'datetime',
        dateTimeLabelFormats: {
          // don't display the year
          month: '%e. %b',
          year: '%b'
        },
        title: {
          text: 'Date'
        }
      },
      yAxis: {
        title: {
          text: '加權指數'
        },
        min: 0
      },
      tooltip: {
        headerFormat: '<b>{series.name}</b><br>',
        pointFormat: '{point.x:%e. %b}: {point.y:.2f}'
      },

      plotOptions: {
        series: {
          marker: {
            symbol: 'circle',
            fillColor: '#FFFFFF',
            enabled: true,
            radius: 2.5,
            lineWidth: 1,
            lineColor: null
          }
        }
      },

      colors: ['#6CF', '#39F', '#06C', '#036', '#000',],

      // Define the data points. All series have a year of 2023/71 in order
      // to be compared on the same x axis. Note that in JavaScript, months start
      // at 0 for January, 1 for February etc.
      series: [
        {
          name: '股價 2021-2022',
          data: [
            [Date.UTC(2022, 0, 1), 17674.40],
            [Date.UTC(2022, 1, 2), 17652.18],
            [Date.UTC(2022, 2, 3), 17693.47],
            [Date.UTC(2022, 3, 3), 16592.18],
            [Date.UTC(2022, 4, 3), 16807.77],
            [Date.UTC(2022, 5, 2), 14825.73],
            [Date.UTC(2022, 6, 3), 15000.07],
            [Date.UTC(2022, 7, 2), 15095.44],
            [Date.UTC(2022, 8, 3), 13424.58],
            [Date.UTC(2022, 9, 1), 12949.75],
            [Date.UTC(2022, 10, 1), 14879.55],
            [Date.UTC(2022, 11, 1), 14137.69],
          ]
        },

        {
          name: '股價  2022-2023',
          data: [

            [Date.UTC(2022, 0, 1), 15265.20],
            [Date.UTC(2022, 1, 1), 15503.79],
            [Date.UTC(2022, 2, 1), 15868.06],
            [Date.UTC(2022, 3, 1), 15579.18],
            [Date.UTC(2022, 4, 1), 16578.96],
            [Date.UTC(2022, 5, 1), 16915.54],
            [Date.UTC(2022, 6, 2), 17145.43],
            [Date.UTC(2022, 7, 1), 16634.51],
            [Date.UTC(2022, 8, 1), 16353.74],
            [Date.UTC(2022, 9, 1), 16001.27],
            [Date.UTC(2022, 10, 1), 17433.85],
            [Date.UTC(2022, 11, 2), 17930.81],
          ]
        },

        {
          name: '股價  2023-2024',
          data: [
            [Date.UTC(2022, 0, 1), 17930.81],
            [Date.UTC(2022, 1, 2), 17889.56],
            [Date.UTC(2022, 2, 3), 18966.77],
            [Date.UTC(2022, 3, 3), 20294.45],
            [Date.UTC(2022, 4, 2), 20396.60],
            [Date.UTC(2022, 5, 3), 21174.22],
            [Date.UTC(2022, 6, 2), 23032.25],
            [Date.UTC(2022, 7, 2), 22199.35],
            [Date.UTC(2022, 8, 2), 21697.23]

          ]
        }
      ]
    });

  </script>
</body>

</html>